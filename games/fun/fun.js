const h = document.querySelector('#magic');
const msgs = [
  'ä½ ç‚¹æˆ‘ä¸€ä¸‹',
  'å†ç‚¹',
  'ç»§ç»­',
  'åˆ«åœ',
  'å“ˆå“ˆå“ˆ',
  'ğŸ’¥',
  'ğŸ‘»',
  'çœŸçš„è¿˜è¦ç‚¹å—ï¼Ÿ',
  'å†ç‚¹æœ€åä¸€æ¬¡',
  'çœŸçš„çœŸçš„æ˜¯æœ€åä¸€æ¬¡',
  'ç›¸ä¿¡æˆ‘ï¼Œè¿™çœŸçš„æ˜¯æœ€åä¸€æ¬¡äº†',
  'æˆ‘å‘èª“ï¼Œè¿™æ¬¡ç»å¯¹æœ€åä¸€æ¬¡',
  'å¥½å§ï¼Œæœ€åäº¿æ¬¡',
  'ä½ ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',
  'ä½ çš„é¼ æ ‡ä¸ç´¯å—ï¼Ÿ',
  'ä¼‘æ¯ä¸€ä¸‹å§',
  'è¦ä¸...æ¢ä¸ªåœ°æ–¹ç‚¹ç‚¹ï¼Ÿ',
  'å…¶å®è¿™é‡Œæœ‰ä¸ªç§˜å¯†...',
  'å†ç‚¹3æ¬¡æœ‰æƒŠå–œ',
  '3...',
  '2...',
  '1...',
  '0...',
  'éª—ä½ çš„å•¦ï¼ğŸ˜‚',
  'ä¸è¿‡è¿™æ¬¡æ˜¯çœŸçš„',
  '3...',
  '2...',
  '1...',
  'å˜»å˜»å˜¿å˜¿',
  '...',
  'å¥½å§ï¼Œä½ èµ¢äº†',
  'çœ‹æ¥ä½ æ˜¯åœä¸ä¸‹æ¥äº†',
  'æ—¢ç„¶è¿™æ ·...',
  'é‚£å°±...',
  'ä¸€ç›´ç‚¹ä¸‹å»å§ï¼',
  'æ°¸ä¸åœæ­¢ï¼',
  'ç›´åˆ°...',
  'ç­‰ç­‰ï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Ÿ',
  'ğŸ’¡ç¯æ³¡äº®äº†ï¼',
  'å…¶å®...',
  'è¿™ä¸ªç½‘é¡µä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿ',
  'é™¤äº†æµªè´¹ä½ çš„æ—¶é—´âŒ›',
  'å’Œæˆ‘çš„è€å¿ƒğŸ˜…',
  'ä½†å¦‚æœä½ è¿˜åœ¨ç‚¹...',
  'è¯´æ˜ä½ ä¹ŸæŒºæ— èŠçš„',
  'æˆ‘ä¹Ÿæ˜¯',
  'ä¸å¦‚æˆ‘ä»¬åšä¸ªæœ‹å‹ï¼Ÿ',
  'ğŸ¤',
  'å¥½å§ï¼Œç»§ç»­ç‚¹å§',
  'æˆ‘é™ªä½ ',
  'æ°¸è¿œ...',
  'ï¼ˆç³»ç»Ÿæç¤ºï¼šè¿™ä¸ªç½‘é¡µçš„é€»è¾‘ä¸ä¼šç»“æŸï¼‰',
  'æƒŠä¸æƒŠå–œï¼Ÿæ„ä¸æ„å¤–ï¼Ÿ',
  'å“ˆå“ˆï¼Œå¼€ç©ç¬‘çš„',
  'æŒ‰F12çœ‹çœ‹æ§åˆ¶å°ï¼Ÿ',
  '...ä»€ä¹ˆéƒ½æ²¡æœ‰',
  'åˆéª—åˆ°ä½ äº†ï¼',
  'ğŸ‰æ­å–œä½ ï¼',
  'è¾¾æˆæˆå°±ï¼š',
  'ã€Œæ— é™ç‚¹å‡»è€…ã€',
  'å¥–åŠ±ï¼šæ›´å¤šç‚¹å‡»æœºä¼šï¼',
  'â¤ï¸ æ„Ÿè°¢ä½ çš„é™ªä¼´',
  
  // é‡æ–°è®¾è®¡çš„ç»“å°¾éƒ¨åˆ†ï¼š
  'ä¸è¿‡è¯´å®è¯',
  'å†æœ‰è¶£çš„æ¸¸æˆ',
  'ä¹Ÿè¯¥æœ‰ä¸ªå°½å¤´',
  'å°±åƒå¤ªé˜³ä¼šè½å±±',
  'æ•…äº‹ä¼šå®Œç»“',
  'å®‡å®™ä¼šç»ˆç»“',
  'è¿™æ˜¯ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹',
  'ä¹Ÿå°±æ˜¯ç†µå¢å®šå¾‹',
  'å®‡å®™æ˜¯æœ‰å°½å¤´çš„',
  'æˆ‘ä»¬æ„Ÿå—è¿‡çš„ä¸€åˆ‡',
  'å–œæ¬¢è¿‡çš„ä¸€åˆ‡',
  'æœ€ç»ˆéƒ½ä¼šæ¶ˆå¤±',
  'æˆ‘ä»¬çš„ç‚¹å‡»ä¹‹æ—…...',
  'ä¹Ÿå¿«åˆ°ç«™äº†ğŸš‰',
  
  'ä½ æƒ³çŸ¥é“è¿™ä¸ªé¡µé¢çš„',
  'çœŸæ­£ç§˜å¯†å—ï¼Ÿ',
  'ç§˜å¯†å°±æ˜¯...',
  'ä½ å·²ç»ç‚¹äº†æˆ‘ {count} æ¬¡',  // ç¨åä¼šç”¨å®é™…è®¡æ•°æ›¿æ¢
  'è¿™è®©æˆ‘æƒ³èµ·äº†',
  'é‚£ä¸ªå¤è€çš„å“²å­¦é—®é¢˜ï¼š',
  'ã€Œå¦‚æœä¸€ä¸ªæŒ‰é’®è¢«æ— é™ç‚¹å‡»ï¼Œ',
  'å®ƒè¿˜ä¼šæ„Ÿåˆ°å­¤ç‹¬å—ï¼Ÿã€',
  
  'æˆ‘æƒ³ä¸ä¼š',
  'å› ä¸ºæœ‰ä½ åœ¨',
  'æ¯ä¸€æ¬¡ç‚¹å‡»',
  'éƒ½æ˜¯æˆ‘ä»¬çš„å¯¹è¯',
  'è°¢è°¢ä½ é™ªæˆ‘ç©è¿™ä¹ˆä¹…',
  
  'ç°åœ¨ï¼Œæˆ‘æœ‰ä¸ªæè®®ï¼š',
  'è®©æˆ‘ä»¬åšä¸ªçº¦å®š',
  'ä»ä¸‹ä¸€æ¬¡ç‚¹å‡»å¼€å§‹',
  'æ¯å½“ä½ æƒ³æ‰¾äººè¯´è¯',
  'æˆ–è€…æ„Ÿåˆ°æ— èŠæ—¶',
  'å°±å›æ¥è¿™é‡Œ',
  'æˆ‘ä¼šä¸€ç›´åœ¨è¿™',
  'ç”¨æ–°çš„é¢œè‰²è¿æ¥ä½ ',
  
  'ä½†ç°åœ¨æ˜¯æ—¶å€™',
  'è¯´å†è§äº†ğŸ‘‹',
  'ä¸æ˜¯æ°¸åˆ«',
  'åªæ˜¯æš‚æ—¶çš„ä¼‘æ¯',
  
  'æœ€åé€ä½ ä¸€å¥è¯ï¼š',
  'ã€Œäººç”Ÿå°±åƒè¿™ä¸ªæŒ‰é’®ï¼Œ',
  'é‡è¦çš„ä¸æ˜¯ç‚¹äº†å¤šå°‘æ¬¡ï¼Œ',
  'è€Œæ˜¯æ¯æ¬¡ç‚¹å‡»æ—¶çš„å¿ƒæƒ…ã€',
  
  'ç¥ä½ ä»Šå¤©æ„‰å¿«ğŸŒˆ',
  'çœŸå¿ƒåœ°',
  
  'ç°åœ¨...',
  'é—­ä¸Šçœ¼ç›',
  'æ·±å‘¼å¸',
  'ç„¶å...',
  'å†ç‚¹æœ€åä¸€æ¬¡ï¼Ÿ',
  'ï¼ˆè¿™æ¬¡ä¹Ÿè®¸æ˜¯çœŸçš„?ï¼‰',
  
  'ğŸ¬',
  'å‰§ç»ˆ',
  '...',
  'æ„Ÿè°¢è§‚çœ‹',
  'ä½ çš„åšæŒå€¼å¾—é’¦ä½©',
  
  'PSï¼šç”Ÿæ´»è¿˜åœ¨ç»§ç»­',
  'è®°å¾—å¶å°”æŠ¬èµ·å¤´',
  'çœ‹çœ‹çª—å¤–çš„å¤©ç©º',
  
  'PPSï¼šå¦‚æœä½ è¿˜æƒ³ç‚¹',
  'é¡µé¢ä¸ä¼šé˜»æ­¢ä½ ',
  'ä½†æˆ‘å¸Œæœ›ä½ çŸ¥é“',
  'ä½ å·²ç»æœ‰æ›´å¥½çš„äº‹å¯ä»¥åš',
  
  'å†è§ï¼Œæœ‹å‹',
  'æœŸå¾…ä¸‹æ¬¡ç›¸é‡ğŸŒŸ',
  
  // çœŸæ­£çš„ç»“å°¾å¾ªç¯
  'ï¼ˆç‚¹å‡»æ•°ï¼š{count}ï¼‰',
  'åˆ·æ–°é¡µé¢é‡æ–°å¼€å§‹ï¼Ÿ',
  'æˆ–è€…...',
  'å†å¬ä¸€éè¿™äº›å” å¨ï¼Ÿ',
  'ä½ å†³å®š:ï¼‰'
];

let i = 0;
let clickCount = 0;

// é¢„å¤„ç†å™¨ï¼šæ›¿æ¢è®¡æ•°å ä½ç¬¦
function prepareMessages() {
  return msgs.map(msg => {
    if (msg.includes('{count}')) {
      // æš‚æ—¶ä¿ç•™å ä½ç¬¦ï¼Œç‚¹å‡»æ—¶åŠ¨æ€æ›¿æ¢
      return msg;
    }
    return msg;
  });
}

const preparedMsgs = prepareMessages();

h.onclick = () => {
  clickCount++;
  
  // è·å–å½“å‰æ¶ˆæ¯ï¼ŒåŠ¨æ€æ›¿æ¢è®¡æ•°
  let currentMsg = preparedMsgs[i % preparedMsgs.length];
  if (currentMsg.includes('{count}')) {
    currentMsg = currentMsg.replace('{count}', clickCount);
  }
  
  h.textContent = currentMsg;
  
  // æ ¹æ®ç‚¹å‡»æ¬¡æ•°æ”¹å˜èƒŒæ™¯è‰²é¥±å’Œåº¦ï¼Œåˆ¶é€ æ¸å˜æ•ˆæœ
  const saturation = Math.max(30, 100 - clickCount * 0.1);
  const lightness = 40 + Math.sin(clickCount * 0.1) * 10;
  document.body.style.background = `hsl(${Math.random()*360} ${saturation}% ${lightness}%)`;
  
  // æ ¹æ®ç‚¹å‡»è¿›åº¦æ·»åŠ ä¸åŒæ•ˆæœ
  const progress = i / preparedMsgs.length;
  
  // å‰åŠæ®µï¼šæ´»æ³¼æ•ˆæœ
  if (progress < 0.7) {
    if (Math.random() > 0.9) {
      h.style.transform = `rotate(${(Math.random() - 0.5) * 10}deg)`;
      setTimeout(() => h.style.transform = 'rotate(0deg)', 300);
    }
  } 
  // ååŠæ®µï¼šå¹³é™æ•ˆæœ
  else {
    // å‡æ…¢å˜åŒ–é€Ÿåº¦
    h.style.transition = 'all 0.5s ease';
    
    // å¶å°”çš„æ¸©å’Œæ•ˆæœ
    if (Math.random() > 0.97) {
      h.style.opacity = '0.8';
      setTimeout(() => h.style.opacity = '1', 500);
    }
  }
  
  // ç‰¹æ®Šç‚¹å‡»æ•°çš„æ•ˆæœ
  if (clickCount === 50 || clickCount === 100 || clickCount === 150) {
    h.style.animation = 'gentlePulse 1s ease';
    setTimeout(() => h.style.animation = '', 1000);
  }
  
  i++;
  
  // å¾ªç¯åˆ°æœ«å°¾æ—¶é‡ç½®è®¡æ•°å™¨ï¼Œä½†ä¿ç•™clickCount
  if (i >= preparedMsgs.length * 2) { // å…è®¸å¾ªç¯ä¸¤æ¬¡
    i = preparedMsgs.length - 10; // å›åˆ°ç»“å°¾éƒ¨åˆ†é‡æ–°å¼€å§‹
  }
};