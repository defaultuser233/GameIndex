<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ›ä¸–çºªæµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', sans-serif;
            background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 50%, #f0f4ff 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        /* ç¥åœ£èƒŒæ™¯å…‰æ•ˆ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.8) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.6) 0%, transparent 40%);
            pointer-events: none;
            z-index: -1;
        }

        /* ä¸»æ ‡é¢˜ - ç¥åœ£å…‰è¾‰æ•ˆæœ */
        .main-title {
            font-size: 2.8em;
            color: #1e3a8a;
            text-align: center;
            margin: 30px 0 40px;
            position: relative;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 0 15px rgba(30, 58, 138, 0.3);
            animation: divineGlow 3s ease-in-out infinite alternate;
        }

        @keyframes divineGlow {
            0% { text-shadow: 0 0 15px rgba(30, 58, 138, 0.3); }
            100% { text-shadow: 0 0 25px rgba(30, 58, 138, 0.5), 0 0 40px rgba(59, 130, 246, 0.3); }
        }

        .main-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 4px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
            border-radius: 2px;
            animation: titleLine 2s ease-out;
        }

        @keyframes titleLine {
            from { width: 0; }
            to { width: 120px; }
        }

        /* æµ‹è¯•å®¹å™¨ */
        .test-container {
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        /* è¿›åº¦æ¡å®¹å™¨ */
        .progress-container {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 25px;
            padding: 5px;
            margin-bottom: 40px;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.05),
                inset 0 0 10px rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .progress-bar {
            height: 12px;
            background: linear-gradient(90deg, #3b82f6, #60a5fa, #93c5fd);
            border-radius: 10px;
            width: 0%;
            transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent);
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-text {
            text-align: center;
            margin-top: 12px;
            color: #4b5563;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        /* é—®é¢˜å¡ç‰‡ - ç»ç’ƒæ‹Ÿæ€æ•ˆæœ */
        .question-card {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 
                0 8px 32px rgba(31, 38, 135, 0.1),
                inset 0 0 20px rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            display: none;
            animation: cardAppear 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.4) 0%, 
                rgba(240, 244, 255, 0.2) 100%);
            z-index: -1;
            pointer-events: none;
        }

        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
                filter: blur(5px);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }

        .question-card.active {
            display: block;
        }

        .question-title {
            font-size: 1.7em;
            color: #1e3a8a;
            margin-bottom: 35px;
            text-align: center;
            font-weight: 600;
            line-height: 1.4;
            position: relative;
            padding-bottom: 20px;
        }

        .question-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
            border-radius: 3px;
        }

        /* é€‰é¡¹æ ·å¼ - ç»ç’ƒæ‹Ÿæ€ */
        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .option {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(59, 130, 246, 0.1) 0%, 
                rgba(147, 197, 253, 0.15) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: 0;
        }

        .option:hover::before {
            opacity: 1;
        }

        .option:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 12px 30px rgba(31, 38, 135, 0.15),
                0 0 0 2px rgba(59, 130, 246, 0.3);
            background: rgba(255, 255, 255, 0.8);
        }

        .option.selected {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.15);
            box-shadow: 
                0 8px 25px rgba(59, 130, 246, 0.2),
                0 0 0 2px #3b82f6;
            transform: translateY(-5px);
        }

        .option-content {
            position: relative;
            z-index: 1;
        }

        .option-text {
            font-size: 1.15em;
            color: #1e293b;
            font-weight: 500;
            text-align: center;
            line-height: 1.5;
        }

        /* ç»“æœå¡ç‰‡ - ç»ç’ƒæ‹Ÿæ€ */
        .result-card {
            background: rgba(255, 255, 255, 0.75);
            border-radius: 25px;
            padding: 50px 40px;
            box-shadow: 
                0 15px 50px rgba(31, 38, 135, 0.15),
                inset 0 0 25px rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.7);
            text-align: center;
            display: none;
            animation: divineReveal 1s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at top right, rgba(59, 130, 246, 0.1) 0%, transparent 40%),
                radial-gradient(circle at bottom left, rgba(147, 197, 253, 0.1) 0%, transparent 40%);
            z-index: -1;
            pointer-events: none;
        }

        @keyframes divineReveal {
            0% {
                opacity: 0;
                transform: scale(0.8) translateY(50px);
                filter: blur(10px);
            }
            50% {
                filter: blur(5px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
                filter: blur(0);
            }
        }

        .result-icon {
            font-size: 5.5em;
            margin-bottom: 25px;
            animation: iconPulse 2s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(30, 58, 138, 0.3);
        }

        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .result-title {
            font-size: 2.4em;
            color: #1e3a8a;
            margin-bottom: 20px;
            font-weight: 700;
            letter-spacing: 0.5px;
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-description {
            font-size: 1.25em;
            color: #334155;
            line-height: 1.8;
            margin-bottom: 35px;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 400;
        }

        .restart-btn {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.15em;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .restart-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.6);
        }

        .restart-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 70%
            );
            transform: rotate(45deg);
            transition: all 0.6s;
            opacity: 0;
        }

        .restart-btn:hover::after {
            opacity: 1;
            transform: rotate(45deg) translate(20%, 20%);
        }

        /* ç¥åœ£å…‰èŠ’è£…é¥° */
        .divine-light {
            position: fixed;
            pointer-events: none;
            opacity: 0.4;
            z-index: -1;
        }

        .light-1 {
            top: 10%;
            left: 10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
            animation: float 8s infinite ease-in-out;
            filter: blur(40px);
        }

        .light-2 {
            bottom: 10%;
            right: 10%;
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, rgba(147, 197, 253, 0.6) 0%, transparent 70%);
            animation: float 10s infinite ease-in-out reverse;
            filter: blur(30px);
        }

        .light-3 {
            top: 50%;
            left: 5%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.7) 0%, transparent 70%);
            animation: float 12s infinite ease-in-out;
            filter: blur(25px);
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(20px, -20px) scale(1.05); }
            50% { transform: translate(-10px, 20px) scale(0.95); }
            75% { transform: translate(15px, 15px) scale(1.02); }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2em;
            }
            
            .question-card {
                padding: 25px;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }

            .result-title {
                font-size: 2em;
            }

            .result-icon {
                font-size: 4em;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 4px solid rgba(30, 58, 138, 0.1);
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* äººç‰©å›¾ç‰‡æ ·å¼ */
        .character-img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(59, 130, 246, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }
        /* åœ¨ç°æœ‰ CSS ä¸­æ·»åŠ ä»¥ä¸‹ä¼˜åŒ– */
        .question-card {
            /* ç¡®ä¿ç¡¬ä»¶åŠ é€Ÿ */
            transform: translateZ(0);
            backface-visibility: hidden;
            perspective: 1000px;
        }
        
        .option {
            /* ä¼˜åŒ– GPU åŠ é€Ÿ */
            transform: translateZ(0);
            will-change: transform, box-shadow;
        }
        
        /* æ·»åŠ è¿™ä¸ªç±»æ¥ç®¡ç†è¿‡æ¸¡ */
        .smooth-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½ */
        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.98); /* å‡å°ç§»åŠ¨è·ç¦» */
                filter: blur(2px); /* å‡å°‘æ¨¡ç³Šç¨‹åº¦ */
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }
        
        /* ä¼˜åŒ–é€‰é¡¹åŠ¨ç”» */
        .option {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* ä½¿ç”¨æ›´å¹³æ»‘çš„ç¼“åŠ¨å‡½æ•° */
        }
    </style>
</head>
<body>
    <!-- ç¥åœ£å…‰èŠ’è£…é¥° -->
    <div class="divine-light light-1"></div>
    <div class="divine-light light-2"></div>
    <div class="divine-light light-3"></div>

    <h1 class="main-title">âœ¨ æµ‹æµ‹ä½ æœ€åƒåˆ›ä¸–çºªä¸­çš„è°ï¼Ÿ âœ¨</h1>
    
    <div class="test-container">
        <!-- è¿›åº¦æ¡ -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-text" id="progressText">é—®é¢˜ 1 / 20</div>
        </div>

        <!-- é—®é¢˜å¡ç‰‡å®¹å™¨ -->
        <div id="questionContainer"></div>

        <!-- ç»“æœå¡ç‰‡ -->
        <div class="result-card" id="resultCard">
            <img id="resultImage" class="character-img" src="" alt="è§’è‰²å›¾ç‰‡">
            <div class="result-icon" id="resultIcon"></div>
            <h2 class="result-title" id="resultTitle"></h2>
            <p class="result-description" id="resultDescription"></p>
            <button class="restart-btn" onclick="restartTest()">ğŸ”„ é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

    <script>
        // æ™¨æ˜Ÿç¥è¯äººç‰©æ•°æ®åº“
        const characters = {
            "å¹»ç†Â·æ™¨æ˜Ÿ": {
                name: "å¹»ç†Â·æ™¨æ˜Ÿ",
                image: "Image_1765382124421.png",
                description: "ç¾£æ˜Ÿé–ƒè€€å…®å¤©ç©¹ï¼Œå¦©ç´«å«£ç´…å…®æ·±æ—ã€‚æ°´æ¾¤å……æ²›å…®è±æ”¶ï¼Œæ¬£å“‰ç¥æ˜å…®åº‡ä½‘ã€‚"
            },
            "å¢¨å…ƒÂ·æ™¨æ˜Ÿ": {
                name: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ",
                image: "Image_1762352290473.png",
                description: "å®¡çœŸåˆ¤ä¼ªï¼Œè£å–„å†³æ¶"
            },
            "å¤©æ¶µÂ·æ™¨æ˜Ÿ": {
                name: "å¤©æ¶µÂ·æ™¨æ˜Ÿ",
                image: "Image_1762436005711.png",
                description: "ä¸Šå¸è¯´è¦æœ‰å…‰ï¼Œäºæ˜¯é‚£äº›ä½ç­‰çš„é‡å…½ä»¬ä¾¿çœ‹åˆ°äº†æœé˜³ã€‚"
            },
            "ç”±çºªÂ·æ™¨æ˜Ÿ": {
                name: "ç”±çºªÂ·æ™¨æ˜Ÿ",
                image: "Image_1767100440403_303.jpg",
                description: "è¿™äº›åœ°ç‹±çš„ç½ªäººä»¬ï¼Œç”šè‡³è¿˜æ²¡æœ‰ä¸€æœ¬å¤å…¸éŸ³ä¹èˆå‰§æœ‰å“ä½ã€‚"
            },
            "æœæœÂ·æ™¨æ˜Ÿ": {
                name: "æœæœÂ·æ™¨æ˜Ÿ",
                image: "Image_1767100882476_301.png",
                description: "æˆ‘åœ¨æ­¤åº„ä¸¥èµ·èª“ï¼Œæˆ‘æ­¤ç”Ÿä¸ç•™ä½™åŠ›ç»´æŠ¤äº‘ä¸Šåœ£æ®¿ï¼Œä¿ç•™ä¸–ç•Œä¸çŸ¥è¯†çš„ç«ç§ï¼Œæ­»æˆ˜ä¸é€€ï¼Œè‡³æ­»æ–¹ä¼‘ã€‚"
            },
            "å®‰é“­ä¿®": {
                name: "å®‰é“­ä¿®",
                image: "Image_1767101136081_787.jpg",
                description: "ä¸‡ç‰©å½’ä¸€ä¹‹æ—¶ï¼Œæˆ‘å°†æˆä¸ºè¿™å¤©åœ°é—´å”¯ä¸€çš„è‡³å°Šã€‚"
            },
            "å®‰ç€šå˜‰": {
                name: "å®‰ç€šå˜‰",
                image: "Image_1765684061316.jpg",
                description: "æœ«æ—¥ç»ˆå°†é™ä¸´ï¼Œä¸Šå¸çš„æ—¶ä»£ç»ˆå°†ç­äº¡"
            },
            "å®‰ç¥¤é’¦": {
                name: "å®‰ç¥¤é’¦",
                image: "Image_1765382124421.png",
                description: "å¤±å»äººæ€§ï¼Œä¼šå¤±å»å¾ˆå¤šï¼Œå¤±å»æœ¬èƒ½ï¼Œä¼šä¸§å¤±ä¸€åˆ‡"
            },
            "ç„å†¥": {
                name: "ç„å†¥",
                image: "Image_1762436005711.png",
                description: "äººæ€§ï¼Œæ¯”åœ£ç»ä¸­è®°è½½çš„æ€ªç‰©æ›´åƒæ€ªç‰©"
            },
            "å­”èˆœç§‹": {
                name: "å­”èˆœç§‹",
                image: "",
                description: "ä½ ä¸ä¼šä»¥ä¸ºæˆ‘åªä¼šè¯´çœ‹å‰‘å§"
            },
            "é—°ç¾²å’Œ": {
                name: "é—°ç¾²å’Œ",
                image: "Image_1767100882476_301.png",
                description: "é»„æ˜ï¼Œæ²ä¸€å£¶èŒ¶ï¼Œèµä¸€æŸèŠ±ï¼Œé™é™çœ‹ç€è½åœ°çª—ä¸Šçš„é±¼ç¾¤æ¸¸è¿‡æµ·æ´‹ï¼Œæ²¡æœ‰æ¯”è¿™æ›´æƒ¬æ„çš„äº‹äº†"
            },
            "ç©ºå¼¦æœˆ": {
                name: "ç©ºå¼¦æœˆ",
                image: "Image_1765684061316.jpg",
                description: "è¿™å¤©å®¶æˆ‘è¿˜éç¡¬é—¯ä¸å¯äº†"
            },
            "è“æ«": {
                name: "è“æ«",
                image: "Image_1767101187566_924.jpg",
                description: "æ™®é€šçš„ä¸èƒ½å†æ™®é€š"
            },
            "ç–æŸ’": {
                name: "ç–æŸ’",
                image: "Image_1765684061316.jpg",
                description: "æ„¿ä¸Šå¸èƒ½æ°¸è¿œä¸ºä¸–ç•Œå¸¦æ¥å¹¸ç¦ä¸å¿«ä¹"
            },
            "å¯»è¯­Â·æ™¨æ˜Ÿ": {
                name: "å¯»è¯­Â·æ™¨æ˜Ÿ",
                image: "Image_1765684378277.jpg",
                description: "å‘å¾ä¾å¥‰ï¼Œä½ çš„æ¯ä¸€å¥è¯è¯"
            }
        };

        // 20é“æ·±åº¦æµ‹è¯•é¢˜
        const questions = [
            {
                id: 1,
                question: "åœ¨ä¸€ä¸ªè¢«é—å¿˜çš„å›¾ä¹¦é¦†é‡Œï¼Œä½ å‘ç°äº†ä¸€æœ¬ç©ºç™½çš„ä¹¦ã€‚å½“ä½ è§¦ç¢°å®ƒæ—¶ï¼Œæ–‡å­—å¼€å§‹æµ®ç°ã€‚è¿™äº›æ–‡å­—æ˜¯ï¼Ÿ",
                options: [
                    { text: "åˆ›é€ ä¸–ç•Œçš„æ³•åˆ™ä¸å‘½åä¸‡ç‰©çš„å’’è¯­", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "å®¡åˆ¤å–„æ¶çš„ç»å¯¹å¾‹ä»¤ä¸è£å†³è®°å½•", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "è®°å½•æ‰€æœ‰è¢«èƒŒå›ä¸æµæ”¾è€…çš„æ‚²ä¼¤è¯—ç¯‡", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "é¦–ä»»å¤©ä½¿ç•™ä¸‹çš„æˆ˜äº‰ä¸å’Œå¹³ç¼–å¹´å²", value: "æœæœÂ·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 2,
                question: "å½“ä½ é¢å¯¹ä¸€ä¸ªæ— æ³•è¢«ä»»ä½•åŠ›é‡æ‘§æ¯çš„ç‰©ä½“æ—¶ï¼Œä½ ä¼šè®¤ä¸ºå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ï¼Ÿ",
                options: [
                    { text: "å®ƒæ˜¯ä¸–ç•Œè¯ç”Ÿæ—¶ç•™ä¸‹çš„æœ€åˆä¹‹æ ¸", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "è¿™æ˜¯å¯¹å®¡åˆ¤è€…æ„å¿—çš„æœ€ç»ˆè€ƒéªŒ", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "æ˜¯å›é€†è€…æ°¸è¿œæ— æ³•æ‰“ç ´çš„ç‰¢ç¬¼è±¡å¾", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "æ˜¯ä¿æŠ¤ä¸–ç•Œçš„æœ€åå£å’", value: "æœæœÂ·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 3,
                question: "å¦‚æœæ—¶é—´æ˜¯ä¸€æ¡æ²³æµï¼Œè€Œä½ å‘ç°è¿™æ¡æ²³å¼€å§‹å€’æµï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                options: [
                    { text: "æ£€æŸ¥æ²³æµçš„æºå¤´æ˜¯å¦å‡ºç°äº†è£‚ç—•", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "ç«‹å³æƒ©ç½šç ´åæ—¶é—´æ³•åˆ™çš„ç½ªäºº", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "å†·çœ¼æ—è§‚ï¼Œæ€è€ƒè¿™æ··ä¹±ä¸­çš„è®½åˆºæ„å‘³", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "å¯»æ‰¾æ–¹æ³•è®©æ²³æµå›å½’æ­£è½¨", value: "æœæœÂ·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 4,
                question: "åœ¨ä¸€åœºæ— æ³•é†’æ¥çš„æ¢¦å¢ƒä¸­ï¼Œä½ æˆä¸ºäº†å¦ä¸€ä¸ªäººã€‚è¿™ä¸ªæ¢¦ä¼šæŒç»­å¤šä¹…ï¼Ÿ",
                options: [
                    { text: "ç›´åˆ°ä½ ç†è§£äº†å­¤ç‹¬çš„æœ¬è´¨", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "ç›´åˆ°å®¡åˆ¤çš„é’Ÿå£°å“èµ·", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "æ°¸è¿œï¼Œå› ä¸ºä½ å·²ç»æ¥å—äº†æ¢¦å¢ƒå³ç°å®", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "ç¬é—´ï¼Œå› ä¸ºçœŸå®ä¸å®¹è®¸è™šå¹»é•¿ä¹…", value: "æœæœÂ·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 5,
                question: "å½“ä½ ç«™åœ¨é•œå‰ï¼Œé•œä¸­çš„å€’å½±å¯¹ä½ éœ²å‡ºäº†ä½ ä¸æ›¾å±•ç°çš„ç¬‘å®¹ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "è¯•å›¾ç†è§£è¿™æ˜¯å¦æ˜¯ä½ åˆ›é€ å‡ºçš„å¦ä¸€ä¸ªè‡ªå·±", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "åˆ¤æ–­è¿™ä¸ªç¬‘å®¹æ˜¯å¦å¯¹ç§©åºæ„æˆå¨èƒ", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "æ„è¯†åˆ°é‚£æ˜¯ä½ ä¼ªè£…ä¸‹çš„çœŸå®é¢å®¹", value: "å­”èˆœç§‹" },
                    { text: "å¾®ç¬‘å›åº”ï¼Œå› ä¸ºé•œå­ä¸ä¼šè¯´è°", value: "é—°ç¾²å’Œ" }
                ]
            },
            {
                id: 6,
                question: "ä½ å‘ç°äº†ä¸€ä¸ªèƒ½å®ç°ä»»ä½•æ„¿æœ›çš„åœ£æ¯ï¼Œä½†ä»£ä»·æ˜¯å¿˜è®°æœ€é‡è¦çš„äººã€‚ä½ ä¼šï¼Ÿ",
                options: [
                    { text: "æ”¾å¼ƒæ„¿æœ›ï¼Œå› ä¸ºåˆ›é€ ä¸åº”ä»¥é—å¿˜ä¸ºä»£ä»·", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "æ¯æ‰åœ£æ¯ï¼Œé˜²æ­¢ä»–äººè¢«è¯±æƒ‘", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "ç¬‘ç€æ‹’ç»ï¼Œå› ä¸ºä½ æ—©å·²å¿˜è®°ä½•ä¸ºé‡è¦", value: "å®‰ç¥¤é’¦" },
                    { text: "æ¥å—ä»£ä»·ï¼Œä¸ºå¤§å±€åšå‡ºç‰ºç‰²", value: "æœæœÂ·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 7,
                question: "åœ¨ä¸€ä¸ªæ²¡æœ‰å…‰çš„ä¸–ç•Œé‡Œï¼Œä½ æˆä¸ºäº†å”¯ä¸€çš„å…‰æºã€‚ä½ ä¼šå¦‚ä½•å‘å‡ºå…‰èŠ’ï¼Ÿ",
                options: [
                    { text: "å¾®å¼±ä½†æ¸©æš–çš„å…‰ï¼Œå¸å¼•éœ€è¦é™ªä¼´è€…", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "å¼ºçƒˆè€Œå…¬æ­£çš„å…‰ï¼Œç…§äº®æ‰€æœ‰ç½ªæ¶", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "é—´æ­‡æ€§é—ªçƒçš„å…‰ï¼Œæš—ç¤ºä½ çš„ä¸è€çƒ¦", value: "å®‰ç¥¤é’¦" },
                    { text: "æ°¸æ’ç¨³å®šçš„å…‰ï¼Œä½œä¸ºä¸–ç•Œçš„ç¯å¡”", value: "å¯»è¯­Â·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 8,
                question: "å½“ä½ å‘ç°æ‰€è°“çš„æ­£ä¹‰å…¶å®æ˜¯æ›´å¤§çš„ä¸å…¬æ­£æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "è´¨ç–‘æ•´ä¸ªæ­£ä¹‰ä½“ç³»çš„æ„å»ºåŸºç¡€", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "æ„¤æ€’åœ°æ‘§æ¯è¿™ä¸ªè™šä¼ªçš„ç³»ç»Ÿ", value: "å®‰ç€šå˜‰" },
                    { text: "å†·é™åœ°å¯»æ‰¾çœŸæ­£çš„å…¬æ­£ä¹‹é“", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "æ¥å—çŸ›ç›¾ï¼Œåœ¨ç°è‰²åœ°å¸¦å¯»æ‰¾å¹³è¡¡", value: "è“æ«" }
                ]
            },
            {
                id: 9,
                question: "å¦‚æœç»™ä½ ä¸€æ¬¡é‡ç½®æ‰€æœ‰å…³ç³»çš„æœºä¼šï¼Œä½†ä¼šå¤±å»æ‰€æœ‰è®°å¿†ï¼Œä½ ä¼šé€‰æ‹©ï¼Ÿ",
                options: [
                    { text: "æ‹’ç»ï¼Œå› ä¸ºå³ä½¿ç—›è‹¦ä¹Ÿæ˜¯åˆ›é€ çš„ä¸€éƒ¨åˆ†", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "æ¥å—ï¼Œè®¤ä¸ºè¿™æ˜¯å‡€åŒ–ç½ªæ¶çš„å”¯ä¸€æ–¹å¼", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "çŠ¹è±«ï¼Œå› ä¸ºä¸ç¡®å®šæ˜¯å¦å€¼å¾—", value: "ç©ºå¼¦æœˆ" },
                    { text: "æ‹’ç»ï¼Œä½†ä¼šæ‚„æ‚„æ”¹å˜æŸäº›ç»†èŠ‚", value: "å­”èˆœç§‹" }
                ]
            },
            {
                id: 10,
                question: "åœ¨ä¸€ä¸ªæ‰€æœ‰äººéƒ½åœ¨è¯´è°çš„å›½åº¦ï¼Œè¯´çœŸè¯æˆä¸ºäº†æœ€å¤§çš„ç½ªæ¶ã€‚ä½ ä¼šï¼Ÿ",
                options: [
                    { text: "åšæŒè¯´çœŸè¯ï¼Œå› ä¸ºçœŸå®é«˜äºä¸€åˆ‡", value: "æœæœÂ·æ™¨æ˜Ÿ" },
                    { text: "ç”¨è°è¨€åŒ…è£…çœŸç›¸ï¼Œä»¥æ™ºå–èƒœ", value: "å­”èˆœç§‹" },
                    { text: "ä¿æŒæ²‰é»˜ï¼Œå› ä¸ºæ‡’å¾—å‚ä¸è¿™åœºæ¸¸æˆ", value: "å®‰ç¥¤é’¦" },
                    { text: "ç”¨æš´åŠ›è®©æ‰€æœ‰äººé—­å˜´ï¼Œå»ºç«‹æ–°ç§©åº", value: "å®‰ç€šå˜‰" }
                ]
            },
            {
                id: 11,
                question: "å½“ä½ å‘ç°ä½ æ‰€ä¿¡ä»°çš„ç¥æ˜ç«Ÿç„¶å‘ä½ æ±‚åŠ©æ—¶ï¼Œä½ çš„æ„Ÿå—æ˜¯ï¼Ÿ",
                options: [
                    { text: "å›°æƒ‘ï¼Œå› ä¸ºåˆ›é€ è€…æ€ä¼šéœ€è¦è¢«åˆ›é€ è€…çš„å¸®åŠ©", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "è£å¹¸ï¼Œè¿™æ˜¯å¯¹ä½ å…¬æ­£æ€§çš„æœ€é«˜è®¤å¯", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "è®½åˆºï¼Œç»ˆäºçœ‹åˆ°äº†ç¥æ˜çš„è½¯å¼±", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "å¹³é™ï¼Œå› ä¸ºå¼ºå¼±æœ¬å°±ç›¸å¯¹", value: "é—°ç¾²å’Œ" }
                ]
            },
            {
                id: 12,
                question: "ä½ è¢«èµ‹äºˆäº†ä¸€ä¸ªä¸å¯èƒ½çš„ä½¿å‘½ï¼šè®©æ‰€æœ‰äººå¹¸ç¦ã€‚ä½ ä¼šå¦‚ä½•å®ç°ï¼Ÿ",
                options: [
                    { text: "åˆ›é€ ä¸€ä¸ªæ²¡æœ‰ç—›è‹¦çš„ä¸–ç•Œï¼Œå“ªæ€•å®ƒæ˜¯è™šå‡çš„", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "å®¡åˆ¤å¹¶æ¶ˆé™¤æ‰€æœ‰é€ æˆä¸å¹¸çš„æºå¤´", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "æ¥å—è¿™ä¸å¯èƒ½ï¼Œä½†ä¼šä¸ºæ¯ä¸ªä¸ªä½“çš„å¹¸ç¦åŠªåŠ›", value: "é—°ç¾²å’Œ" },
                    { text: "ç”¨ä¿¡ä»°ç»™äºˆäººä»¬æ‰¿å—ç—›è‹¦çš„åŠ›é‡", value: "ç–æŸ’" }
                ]
            },
            {
                id: 13,
                question: "åœ¨ä¸€ä¸ªå¿…é¡»é€‰æ‹©ç‰ºç‰²ä¸€ä¸ªäººæ‹¯æ•‘ä¸€ç™¾äººçš„æƒ…å†µä¸‹ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "æ‹’ç»é€‰æ‹©ï¼Œå› ä¸ºæ¯ä¸ªç”Ÿå‘½éƒ½è‡³å…³é‡è¦", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "æ¯«ä¸çŠ¹è±«æ‰§è¡Œï¼Œä¸ºäº†æ›´å¤§çš„å–„", value: "æœæœÂ·æ™¨æ˜Ÿ" },
                    { text: "å¯»æ‰¾è®©æ‰€æœ‰äººéƒ½æ´»ä¸‹æ¥çš„ç¬¬ä¸‰ç§æ–¹æ³•", value: "å­”èˆœç§‹" },
                    { text: "è®©è§„åˆ™æœ¬èº«å†³å®šè°æ˜¯ç‰ºç‰²è€…", value: "å¯»è¯­Â·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 14,
                question: "å½“ä½ å‘ç°ä½ å¯ä»¥æ“æ§ä»–äººçš„æƒ…æ„Ÿæ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "ç”¨è¿™èƒ½åŠ›è®©ä¸–ç•Œå……æ»¡çˆ±ä¸ç†è§£", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "å‡€åŒ–æ‰€æœ‰è´Ÿé¢æƒ…æ„Ÿï¼Œå¼ºåˆ¶å’Œå¹³", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "æ‡’å¾—ä½¿ç”¨ï¼Œå› ä¸ºæƒ…æ„Ÿå¤ªå¤æ‚", value: "å®‰ç¥¤é’¦" },
                    { text: "è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºè‡ªç”±æ„å¿—ä¸å¯ä¾µçŠ¯", value: "å¯»è¯­Â·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 15,
                question: "åœ¨ä¸€ä¸ªè¢«é—å¿˜çš„è§’è½ï¼Œä½ å‘ç°äº†ä¸€æœµæ°¸è¿œä¸ä¼šå‡‹è°¢çš„èŠ±ã€‚ä½ ä¼šï¼Ÿ",
                options: [
                    { text: "è®©å®ƒç•™åœ¨é‚£é‡Œï¼Œå› ä¸ºæ°¸æ’ä¸éœ€è¦è§‚ä¼—", value: "è“æ«" },
                    { text: "ç ”ç©¶å®ƒä¸ºä½•èƒ½è¶…è¶Šæ—¶é—´æ³•åˆ™", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "ç”¨å®ƒæ¥è¯æ˜æ°¸æ’ä¹‹çˆ±çš„å­˜åœ¨", value: "é—°ç¾²å’Œ" },
                    { text: "è­¦æƒ•å®ƒå¯èƒ½å¸¦æ¥çš„è¯…å’’", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" }
                ]
            },
            {
                id: 16,
                question: "å½“ä½ å‘ç°ä½ çš„è®°å¿†è¢«äººä¸ºç¯¡æ”¹è¿‡æ—¶ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                options: [
                    { text: "æ„¤æ€’ï¼Œå› ä¸ºçœŸå®è¢«äºµæ¸äº†", value: "å®‰ç€šå˜‰" },
                    { text: "å¥½å¥‡ï¼Œæƒ³çŸ¥é“æ˜¯è°åšçš„", value: "ç©ºå¼¦æœˆ" },
                    { text: "å†·é™åˆ†æï¼Œå¯»æ‰¾ç¯¡æ”¹çš„çº¿ç´¢", value: "å¯»è¯­Â·æ™¨æ˜Ÿ" },
                    { text: "æ— æ‰€è°“ï¼Œå› ä¸ºè®°å¿†æœ¬å°±ä¸å¯é ", value: "å®‰ç¥¤é’¦" }
                ]
            },
            {
                id: 17,
                question: "åœ¨ä¸€ä¸ªæ²‰é»˜çš„åœ£æ®¿ä¸­ï¼Œä½ å¬åˆ°äº†ç¥çš„å£°éŸ³ã€‚è¿™ä¸ªå£°éŸ³åœ¨è¯´ä»€ä¹ˆï¼Ÿ",
                options: [
                    { text: "åˆ›é€ ä¸æ¯ç­æœ¬æ˜¯ä¸€ä½“", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "å®¡åˆ¤å³å°†é™ä¸´", value: "å¤©æ¶µÂ·æ™¨æ˜Ÿ" },
                    { text: "ä¸€åˆ‡ä¸è¿‡æ˜¯ä¸€åœºæˆ", value: "å­”èˆœç§‹" },
                    { text: "ä¿æŒä¿¡ä»°ï¼Œç»§ç»­å‰è¡Œ", value: "ç–æŸ’" }
                ]
            },
            {
                id: 18,
                question: "å½“ä½ å‘ç°ä½ å¯ä»¥é¢„çŸ¥æ‰€æœ‰äººçš„æ­»äº¡æ—¶ï¼Œä½ ä¼šé€‰æ‹©ï¼Ÿ",
                options: [
                    { text: "è¯•å›¾æ”¹å˜ï¼Œå“ªæ€•è¿èƒŒå‘½è¿", value: "æœæœÂ·æ™¨æ˜Ÿ" },
                    { text: "æ¥å—å‘½è¿ï¼Œä½†å°½åŠ›è®©è¿‡ç¨‹æ›´æœ‰æ„ä¹‰", value: "é—°ç¾²å’Œ" },
                    { text: "ç”¨è¿™ä¸ªèƒ½åŠ›å»ºç«‹æ–°çš„ç§©åº", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "æ‡’å¾—çœ‹ï¼Œå› ä¸ºç”Ÿæ­»æœ¬å°±å¾ªç¯", value: "å®‰ç¥¤é’¦" }
                ]
            },
            {
                id: 19,
                question: "åœ¨ä¸€ä¸ªå€’å½±çš„ä¸–ç•Œé‡Œï¼Œä½ çœ‹åˆ°äº†æ— æ•°ä¸ªè‡ªå·±ã€‚å“ªä¸€ä¸ªæ‰æ˜¯çœŸå®çš„ï¼Ÿ",
                options: [
                    { text: "é‚£ä¸ªåœ¨åˆ›é€ çš„æˆ‘", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "é‚£ä¸ªåœ¨å®¡åˆ¤çš„æˆ‘", value: "å¢¨å…ƒÂ·æ™¨æ˜Ÿ" },
                    { text: "é‚£ä¸ªè¢«æµæ”¾çš„æˆ‘", value: "ç”±çºªÂ·æ™¨æ˜Ÿ" },
                    { text: "è¿™ä¸ªå›ç­”é—®é¢˜çš„æˆ‘", value: "å­”èˆœç§‹" }
                ]
            },
            {
                id: 20,
                question: "å½“ä½ ç«™åœ¨ä¸–ç•Œçš„å°½å¤´ï¼Œé¢å‰æ˜¯è™šæ— ï¼ŒèƒŒåæ˜¯å­˜åœ¨ã€‚ä½ ä¼šè¿ˆå‡ºé‚£ä¸€æ­¥å—ï¼Ÿ",
                options: [
                    { text: "ä¸ä¼šï¼Œå› ä¸ºåˆ›é€ è€…æœ‰è´£ä»»å®ˆæŠ¤å­˜åœ¨", value: "å¹»ç†Â·æ™¨æ˜Ÿ" },
                    { text: "ä¼šï¼Œå› ä¸ºæ¢ç´¢æœªçŸ¥æ˜¯æœ¬æ€§", value: "è“æ«" },
                    { text: "æ— æ‰€è°“ï¼Œå› ä¸ºå­˜åœ¨ä¸è™šæ— æœ¬å°±ç›¸åŒ", value: "å®‰ç¥¤é’¦" },
                    { text: "ä¼šï¼Œå› ä¸ºé¦–ä»»å¤©ä½¿ä»ä¸ç•æƒ§", value: "æœæœÂ·æ™¨æ˜Ÿ" }
                ]
            }
        ];
        // ...ï¼ˆå‰é¢çš„ characters å’Œ questions æ•°æ®ä¿æŒä¸å˜ï¼‰
    
        let currentQuestion = 0;
        let answers = {};
        let isTransitioning = false; // æ·»åŠ è¿‡æ¸¡çŠ¶æ€é”
    
        // åˆå§‹åŒ–æµ‹è¯•
        function initTest() {
            const container = document.getElementById('questionContainer');
            container.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                if (index === 0) questionCard.classList.add('active');
                
                const optionsHtml = q.options.map(option => `
                    <div class="option" data-value="${option.value.replace(/'/g, "\\'")}">
                        <div class="option-content">
                            <div class="option-text">${option.text}</div>
                        </div>
                    </div>
                `).join('');
                
                questionCard.innerHTML = `
                    <h2 class="question-title">${q.question}</h2>
                    <div class="options-container">
                        ${optionsHtml}
                    </div>
                `;
                
                container.appendChild(questionCard);
            });
            
            // ä½¿ç”¨äº‹ä»¶å§”æ‰˜è€Œä¸æ˜¯å†…è” onclick
            document.getElementById('questionContainer').addEventListener('click', function(e) {
                const option = e.target.closest('.option');
                if (option && !isTransitioning) {
                    const questionCard = option.closest('.question-card');
                    const questionId = Array.from(document.querySelectorAll('.question-card')).indexOf(questionCard) + 1;
                    const value = option.dataset.value;
                    selectOption(questionId, value, option);
                }
            });
            
            updateProgress();
        }
    
        // é€‰æ‹©é€‰é¡¹
        function selectOption(questionId, value, element) {
            if (isTransitioning) return; // é˜²æ­¢é‡å¤ç‚¹å‡»
            
            isTransitioning = true;
            
            // ç§»é™¤åŒä¸€é—®é¢˜ä¸­å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            const questionCard = element.closest('.question-card');
            questionCard.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // æ·»åŠ é€‰ä¸­çŠ¶æ€
            element.classList.add('selected');
            
            // å­˜å‚¨ç­”æ¡ˆ
            answers[questionId] = value;
            
            // ä½¿ç”¨ requestAnimationFrame ç¡®ä¿åŠ¨ç”»æµç•…
            requestAnimationFrame(() => {
                setTimeout(() => {
                    if (currentQuestion < questions.length - 1) {
                        nextQuestion();
                    } else {
                        // å¢åŠ ä¸€ç‚¹å»¶è¿Ÿè®©é€‰ä¸­æ•ˆæœå®Œå…¨æ˜¾ç¤º
                        setTimeout(() => {
                            showResult();
                            isTransitioning = false;
                        }, 300);
                    }
                }, 500); // å‡å°‘å»¶è¿Ÿæ—¶é—´
            });
        }
    
        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            const questionCards = document.querySelectorAll('.question-card');
            const currentCard = questionCards[currentQuestion];
            
            // æ·»åŠ æ·¡å‡ºæ•ˆæœ
            currentCard.style.opacity = '0';
            currentCard.style.transform = 'translateY(-20px)';
            
            setTimeout(() => {
                currentCard.classList.remove('active');
                currentCard.style.opacity = '';
                currentCard.style.transform = '';
                
                currentQuestion++;
                
                // ä½¿ç”¨ requestAnimationFrame ç¡®ä¿æµç•…
                requestAnimationFrame(() => {
                    questionCards[currentQuestion].classList.add('active');
                    updateProgress();
                    
                    // æ»šåŠ¨åˆ°æ–°é—®é¢˜ä½ç½®
                    questionCards[currentQuestion].scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                    
                    // é‡ç½®è¿‡æ¸¡çŠ¶æ€
                    setTimeout(() => {
                        isTransitioning = false;
                    }, 100);
                });
            }, 300); // å‡å°‘åŠ¨ç”»æ—¶é—´
        }
    
        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            const progressBar = document.getElementById('progressBar');
            
            // ä½¿ç”¨ CSS transition è€Œä¸æ˜¯ç›´æ¥è®¾ç½® width
            progressBar.style.transition = 'width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)';
            progressBar.style.width = progress + '%';
            
            document.getElementById('progressText').textContent = `é—®é¢˜ ${currentQuestion + 1} / ${questions.length}`;
        }
    
        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            // è®¡ç®—å¾—åˆ†
            const scores = {};
            Object.values(answers).forEach(value => {
                scores[value] = (scores[value] || 0) + 1;
            });
            
            // æ‰¾å‡ºæœ€é«˜åˆ†çš„äººç‰©
            let maxScore = 0;
            let resultChar = "å¹»ç†Â·æ™¨æ˜Ÿ";
            
            Object.entries(scores).forEach(([char, score]) => {
                if (score > maxScore) {
                    maxScore = score;
                    resultChar = char;
                }
            });
            
            const character = characters[resultChar];
            
            // å¹³æ»‘éšè—é—®é¢˜å¡ç‰‡å’Œè¿›åº¦æ¡
            const questionContainer = document.getElementById('questionContainer');
            const progressContainer = document.querySelector('.progress-container');
            
            questionContainer.style.opacity = '0';
            progressContainer.style.opacity = '0';
            
            setTimeout(() => {
                questionContainer.style.display = 'none';
                progressContainer.style.display = 'none';
                
                // æ˜¾ç¤ºç»“æœå¡ç‰‡
                const resultCard = document.getElementById('resultCard');
                const resultIcon = document.getElementById('resultIcon');
                const resultTitle = document.getElementById('resultTitle');
                const resultDescription = document.getElementById('resultDescription');
                const resultImage = document.getElementById('resultImage');
                
                resultIcon.textContent = 'ğŸŒŸ';
                resultTitle.textContent = character.name;
                resultDescription.textContent = character.description;
                
                // è®¾ç½®è§’è‰²å›¾ç‰‡
                if (character.image) {
                    resultImage.src = character.image;
                    resultImage.style.display = 'block';
                } else {
                    resultImage.style.display = 'none';
                }
                
                resultCard.style.display = 'block';
                
                // æ»šåŠ¨åˆ°ç»“æœä½ç½®
                setTimeout(() => {
                    resultCard.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 100);
            }, 300);
        }
    
        // é‡æ–°å¼€å§‹æµ‹è¯•
        function restartTest() {
            // å¹³æ»‘éšè—ç»“æœå¡ç‰‡
            const resultCard = document.getElementById('resultCard');
            resultCard.style.opacity = '0';
            
            setTimeout(() => {
                // é‡ç½®çŠ¶æ€
                currentQuestion = 0;
                answers = {};
                isTransitioning = false;
                
                resultCard.style.display = 'none';
                resultCard.style.opacity = '';
                
                // æ˜¾ç¤ºé—®é¢˜å®¹å™¨å’Œè¿›åº¦æ¡
                const questionContainer = document.getElementById('questionContainer');
                const progressContainer = document.querySelector('.progress-container');
                
                questionContainer.style.display = 'block';
                progressContainer.style.display = 'block';
                
                // åˆå§‹é€æ˜åº¦è®¾ç½®ä¸º0ï¼Œç„¶åæ·¡å…¥
                questionContainer.style.opacity = '0';
                progressContainer.style.opacity = '0';
                
                // é‡ç½®æ‰€æœ‰é—®é¢˜å¡ç‰‡
                const questionCards = document.querySelectorAll('.question-card');
                questionCards.forEach((card, index) => {
                    card.classList.remove('active');
                    if (index === 0) {
                        setTimeout(() => {
                            card.classList.add('active');
                        }, 50);
                    }
                    
                    // æ¸…é™¤é€‰é¡¹é€‰ä¸­çŠ¶æ€
                    card.querySelectorAll('.option').forEach(option => {
                        option.classList.remove('selected');
                    });
                });
                
                // æ›´æ–°è¿›åº¦
                updateProgress();
                
                // æ·¡å…¥æ•ˆæœ
                setTimeout(() => {
                    questionContainer.style.opacity = '1';
                    progressContainer.style.opacity = '1';
                    
                    // æ»šåŠ¨åˆ°é¡¶éƒ¨
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                }, 100);
            }, 300);
        }
    
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            initTest();
        });
    </script>
</body>
</html>